{"version":3,"sources":["datepickk.min.js"],"names":["Datepickk","args","generateDaynames","that","el","days","innerHTML","daynames","x","months","weekEl","document","createElement","setAttribute","i","dayEl","dayTextEl","languages","lang","dayNames","appendChild","generateYears","years","yearPicker","childNodes","length","year","currentYear","parseInt","getAttribute","toString","substring","generateInputs","tables","container","input","type","id","numInstances","label","text","tooltip","addEventListener","eventName","locked","event","preventDefault","inputChange","generateLegends","hoverLegend","e","this","elements","querySelectorAll","hel","classList","add","remove","start","Date","end","_highlights","highlight","filter","m","dates","legends","l","legend","oldLegend","querySelector","backgroundColor","legendItem","indexOf","legendItemPoint","push","legendItems","q","removeEventListener","removeChild","generateDates","month","monthElements","weekStart","p","inputElements","labelElements","getDate","daysLast","startDay","getDay","monthNames","checked","removeAttribute","className","date","toJSON","disabledDates","getTime","disabledDays","minDate","maxDate","today","setHours","tooltips","bgColor","legendIds","percent","Math","round","z","Color","color","setDate","resetCalendar","currentMonth","getFullYear","getMonth","header","c","index","monthPicker","startmonth","endmonth","monthint","yearname","renderSelectedDates","selectedDates","range","currentDate","sorted","sort","a","b","first","monthPick","yearPick","nextMonth","prevMonth","selectDate","onSelect","apply","unselectDate","unselectAll","maxSelections","closeOnSelect","hide","setRange","val","show","properties","setArgs","handler","calendar","whichAnimationEvent","opened","startDate","parentNode","onClose","bindEvents","contains","button","overlay","closeOnClick","monthPickers","y","yearPickers","startX","distance","changedTouches","clientX","originalEvent","key","init","getBrowserVersion","template","titleBox","inline","window","FastClick","attach","currentDateGetter","currentDateSetter","no","en","de","body","title","onConfirm","Object","defineProperties","get","set","innerText","console","error","isOpen","Array","map","highlightObj","n","callback","fullscreen","bind","ret","String","HTMLElement","freeze","t","transitions","animation","OAnimation","MozAnimation","WebkitAnimation","undefined","style","tem","ios","browser","version","ua","navigator","userAgent","M","match","test","exec","appName","appVersion","splice"],"mappings":"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","file":"datepickk.min.js","sourcesContent":["/*!\r\n * Datepickk v1.0.0\r\n * (c) 2015 Carsten Jacobsen\r\n */\r\n(function(){\r\n\t\r\n\tfunction Datepickk(args){\r\n\t\tDatepickk.numInstances = (Datepickk.numInstances || 0) + 1;\r\n\t\tvar that = this;\r\n\t\tvar eventName = 'click';\r\n\t\tvar selectedDates = [];\r\n\r\n\t\tvar currentYear = new Date().getFullYear();\r\n\t\tvar currentMonth = new Date().getMonth() + 1;\r\n\r\n\t\tlanguages = {\r\n\t\t\tno: {\r\n\t\t\t\tmonthNames:['Januar','Februar','Mars','April','Mai','Juni','Juli','August','September','Oktober','November','Desember'],\r\n\t\t\t\tdayNames:['ma','ti','on','to','fr','lø','sø'],\r\n\t\t\t\tweekStart:1\r\n\t\t\t},\r\n\t\t\ten: {\r\n\t\t\t\tmonthNames:['january','february','march','april','may','june','july','august','september','october','november','december'],\r\n\t\t\t\tdayNames:['su','mo','tu','we','th','fr','sa'],\r\n\t\t\t\tweekStart:0\r\n\t\t\t},\r\n\t\t\tde: {\r\n\t\t\t\tmonthNames:['Januar','Februar','März','April','Mai','Juni','Juli','August','September','Oktober','November','Dezember'],\r\n\t\t\t\tdayNames:['Mo','Di','Mi','Do','Fr','Sa','So'],\r\n\t\t\t\tweekStart:1\r\n\t\t\t}\r\n\t\t};\r\n\t\t\r\n\t\tvar range = false;\r\n\t\tvar maxSelections = null;\r\n\t\tvar container = document.body;\r\n\t\tvar opened = false;\r\n\t\tvar months = 1;\r\n\t\tvar closeOnSelect = false;\r\n\t\tvar button = null;\r\n\t\tvar title = null;\r\n\t\tvar onClose = null;\r\n\t\tvar onConfirm = null;\r\n\t\tvar closeOnClick = true;\r\n\t\tvar inline = false;\r\n\t\tvar lang = 'en';\r\n\t\tvar onSelect = null;\r\n\t\tvar disabledDates = [];\r\n\t\tvar disabledDays = [];\r\n\t\tvar highlight = [];\r\n\t\tvar tooltips = {};\r\n\t\tvar daynames = true;\r\n\t\tvar today = true;\r\n\t\tvar startDate = null;\r\n\t\tvar minDate = null;\r\n\t\tvar maxDate = null;\r\n\t\tvar locked = false;\r\n\t\t\r\n\t\tfunction generateDaynames(){\r\n\t\t\tthat.el.days.innerHTML = '';\r\n\t\t\tif(daynames){\r\n\t\t\t\tfor(var x = 0;x<months && x<3;x++){\r\n\t\t\t\t\tvar weekEl = document.createElement('div');\r\n\t\t\t\t\t\tweekEl.setAttribute('class','d-week');\r\n\t\t\t\t\tfor(var i = 0; i < 7;i++){\r\n\t\t\t\t\t\tvar dayEl = document.createElement('div');\r\n\t\t\t\t\t\t\tdayTextEl = document.createElement('p');\r\n\t\t\t\t\t\t\tdayTextEl.innerHTML = languages[lang].dayNames[i];\r\n\r\n\t\t\t\t\t\t\tdayEl.appendChild(dayTextEl);\r\n\t\t\t\t\t\t\tweekEl.appendChild(dayEl);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthat.el.days.appendChild(weekEl);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfunction generateYears(){\r\n\t\t\tvar years = that.el.yearPicker.childNodes;\r\n\t\t\tfor(var i = 0; i < years.length; i++){\r\n\t\t\t\tvar year = currentYear + parseInt(years[i].getAttribute('data-year'));\r\n\t\t\t\tyears[i].innerHTML = \"'\" + year.toString().substring(2,4);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfunction generateInputs(){\r\n\t\t\tthat.el.tables.innerHTML = '';\r\n\t\t\tfor(var x = 0;x<months;x++){\r\n\t\t\t\tvar container = document.createElement('div');\r\n\t\t\t\t\tcontainer.setAttribute('class','d-table');\r\n\t\t\t\tfor(var i = 0;i<42;i++){\r\n\t\t\t\t\tvar input = document.createElement('input');\r\n\t\t\t\t\t\tinput.type = 'checkbox';\r\n\t\t\t\t\t\tinput.id   = Datepickk.numInstances + '-' + x + '-d-day-' + i;\r\n\t\t\t\t\tvar label = document.createElement('label');\r\n\t\t\t\t\t\tlabel.setAttribute(\"for\",Datepickk.numInstances + '-' + x + '-d-day-' + i);\r\n\r\n\t\t\t\t\tvar text = document.createElement('text');\r\n\r\n\t\t\t\t\tvar tooltip = document.createElement('span');\r\n\t\t\t\t\t\ttooltip.setAttribute('class','d-tooltip');\r\n\r\n\t\t\t\t\tcontainer.appendChild(input);\r\n\t\t\t\t\tcontainer.appendChild(label);\r\n\r\n\t\t\t\t\tlabel.appendChild(text);\r\n\t\t\t\t\tlabel.appendChild(tooltip);\r\n\r\n\t\t\t\t\tinput.addEventListener(eventName,function(){\r\n\t\t\t\t\t\tif(locked){\r\n\t\t\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t\t}\t\r\n\t\t\t\t\t});\r\n\t\t\t\t\tinput.addEventListener('change',inputChange);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthat.el.tables.appendChild(container);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfunction generateLegends(){\r\n\t\t\tvar start = new Date(that.el.tables.childNodes[0].childNodes[0].getAttribute('data-date'));\r\n\t\t\tvar end = new Date(that.el.tables.childNodes[months-1].childNodes[82].getAttribute('data-date'));\r\n\t\t\tvar _highlights = highlight.filter(function(x){\r\n\t\t\t\tfor(var m = 0;m < x.dates.length;m++){\r\n\t\t\t\t\tif(x.dates[m].start < end && x.dates[m].end > start){\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t});\r\n\t\t\tvar legends = [];\r\n\t\t\tfor(var l = 0;l<_highlights.length;l++){\r\n\t\t\t\tif('legend' in _highlights[l] && _highlights[l].legend){\r\n\t\t\t\t\tvar oldLegend = container.querySelector('.d-legend-item[data-legend=\"' + _highlights[l].legend + '\"][data-color=\"' + _highlights[l].backgroundColor + '\"]');\r\n\t\t\t\t\tif(oldLegend == null){\r\n\t\t\t\t\t\tvar legendItem = document.createElement('p');\r\n\t\t\t\t\t\t\tlegendItem.setAttribute('class','d-legend-item');\r\n\t\t\t\t\t\t\tlegendItem.setAttribute('data-legend',_highlights[l].legend);\r\n\t\t\t\t\t\t\tlegendItem.setAttribute('data-legend-id',highlight.indexOf(_highlights[l]));\r\n\t\t\t\t\t\t\tlegendItem.setAttribute('data-color',_highlights[l].backgroundColor);\r\n\t\t\t\t\t\tvar legendItemPoint = document.createElement('span');\r\n\t\t\t\t\t\t\tlegendItemPoint.setAttribute('style','background-color:' + _highlights[l].backgroundColor);\r\n\r\n\t\t\t\t\t\tlegendItem.appendChild(legendItemPoint);\r\n\r\n\t\t\t\t\t\tthat.el.legend.appendChild(legendItem);\r\n\t\t\t\t\t\tlegendItem.addEventListener('mouseover',hoverLegend);\r\n\t\t\t\t\t\tlegendItem.addEventListener('mouseout',hoverLegend);\r\n\t\t\t\t\t\tlegends.push(legendItem);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tlegends.push(oldLegend);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tvar legendItems = that.el.legend.querySelectorAll('.d-legend-item');\r\n\r\n\t\t\tfor(var q = 0;q<legendItems.length;q++){\r\n\t\t\t\tif(legends.indexOf(legendItems[q]) < 0){\r\n\t\t\t\t\tlegendItems[q].removeEventListener('mouseover',hoverLegend);\r\n\t\t\t\t\tlegendItems[q].removeEventListener('mouseout',hoverLegend);\r\n\t\t\t\t\tthat.el.legend.removeChild(legendItems[q]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tfunction hoverLegend(e){\r\n\t\t\t\tvar id = this.getAttribute('data-legend-id');\r\n\t\t\t\tvar elements = that.el.tables.querySelectorAll('[data-legend-id*=\"' + id + '\"]');\r\n\t\t\t\tfor(var hel = 0;hel<elements.length;hel++){\r\n\t\t\t\t\tif(e.type == 'mouseover'){\r\n\t\t\t\t\t\telements[hel].classList.add('legend-hover');\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\telements[hel].classList.remove('legend-hover');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfunction generateDates(year,month){\r\n\t\t\tvar monthElements = that.el.querySelectorAll('.d-table');\r\n\t\t\tvar weekStart = languages[lang].weekStart;\r\n\r\n\t\t\tfor(var p = 0;p<monthElements.length;p++){\r\n\t\t\t\tvar inputElements = monthElements[p].querySelectorAll('.d-table input');\r\n\t\t\t\tvar labelElements = monthElements[p].querySelectorAll('.d-table label');\r\n\t\t\t\tvar days = new Date(year,month+p,0).getDate();\r\n\t\t\t\tvar daysLast = new Date(year,month+p-1,0).getDate();\r\n\t\t\t\tvar startDay = new Date(year,month+p - 1,1).getDay();\r\n\t\t\t\tvar startDate = null;\r\n\t\t\t\tvar endDate = null;\r\n\t\t\t\tif(startDay - weekStart < 0){\r\n\t\t\t\t\tstartDay = 7 - weekStart;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tstartDay -= weekStart;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tmonthElements[p].setAttribute('data-month',languages[lang].monthNames[month-1+p]);\r\n\r\n\t\t\t\tfor(var i = 0;i < inputElements.length;i++){\r\n\t\t\t\t\tinputElements[i].checked = false;\r\n\t\t\t\t\tinputElements[i].removeAttribute('disabled');\r\n\t\t\t\t\tlabelElements[i].removeAttribute('style');\r\n\t\t\t\t\tlabelElements[i].className = '';\r\n\r\n\t\t\t\t\tvar date = null;\r\n\t\t\t\t\tif(i < startDay){\r\n\t\t\t\t\t\tlabelElements[i].childNodes[0].innerHTML = daysLast - (startDay - i - 1);\r\n\t\t\t\t\t\tif(p == 0){\r\n\t\t\t\t\t\t\tdate = new Date(year,month+p-2,daysLast - (startDay - i - 1));\r\n\t\t\t\t\t\t\tlabelElements[i].className = 'prev';\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tdate = '';\r\n\t\t\t\t\t\t\tlabelElements[i].className = 'hidden';\r\n\t\t\t\t\t\t\tinputElements[i].setAttribute('disabled',true);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else if(i < days + startDay){\r\n\t\t\t\t\t\tdate = new Date(year,month+p-1,i-startDay+1);\r\n\t\t\t\t\t\tlabelElements[i].childNodes[0].innerHTML = i-startDay+1;\r\n\t\t\t\t\t\tlabelElements[i].className = '';\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tlabelElements[i].childNodes[0].innerHTML = i - days - startDay + 1;\r\n\t\t\t\t\t\tif(p == monthElements.length-1){\r\n\t\t\t\t\t\t\tdate = new Date(year,month+p,i - days - startDay + 1);\r\n\t\t\t\t\t\t\tlabelElements[i].className = 'next';\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tdate = '';\r\n\t\t\t\t\t\t\tlabelElements[i].className = 'hidden';\r\n\t\t\t\t\t\t\tinputElements[i].setAttribute('disabled',true);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif(date instanceof Date){\r\n\t\t\t\t\t\tinputElements[i].setAttribute('data-date',date.toJSON());\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tif(disabledDates.indexOf(date.getTime()) != -1 || disabledDays.indexOf(date.getDay()) != -1){\r\n\t\t\t\t\t\t\tinputElements[i].setAttribute('disabled',true);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif((minDate && date < minDate) || (maxDate && date > maxDate)){\r\n\t\t\t\t\t\t\tinputElements[i].setAttribute('disabled',true);\r\n\t\t\t\t\t\t\tlabelElements[i].className = 'hidden';\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif(today && date.getTime() == new Date().setHours(0,0,0,0)){\r\n\t\t\t\t\t\t\tlabelElements[i].classList.add('today');\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tlabelElements[i].classList.remove('today');\r\n\t\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t\tif(tooltips[date.getTime()]){\r\n\t\t\t\t\t\t\tlabelElements[i].childNodes[0].setAttribute('data-tooltip',true);\r\n\t\t\t\t\t\t\tlabelElements[i].childNodes[1].innerHTML = tooltips[date.getTime()];\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tlabelElements[i].childNodes[0].removeAttribute('data-tooltip');\r\n\t\t\t\t\t\t\tlabelElements[i].childNodes[1].innerHTML = '';\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar _highlights = highlight.filter(function(x){\r\n\t\t\t\t\t\t\tfor(var m = 0;m < x.dates.length;m++){\r\n\t\t\t\t\t\t\t\tif(date.getTime() >= x.dates[m].start.getTime() && date.getTime() <= x.dates[m].end.getTime()){\r\n\t\t\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tif(_highlights.length > 0){\r\n\t\t\t\t\t\t\tvar bgColor = '';\r\n\t\t\t\t\t\t\tvar legendIds = '';\r\n\t\t\t\t\t\t\tif(_highlights.length > 1){\r\n\t\t\t\t\t\t\t\tvar percent = Math.round(100 / _highlights.length);\r\n\t\t\t\t\t\t\t\tbgColor = 'background: linear-gradient(45deg,';\r\n\t\t\t\t\t\t\t\tfor(var z = 0;z < _highlights.length;z++){\r\n\t\t\t\t\t\t\t\t\tlegendIds += highlight.indexOf(_highlights[z]) + ' ';\r\n\t\t\t\t\t\t\t\t\tbgColor += _highlights[z].backgroundColor + ' ' + (percent*z) + '%';\r\n\t\t\t\t\t\t\t\t\tif(z != _highlights.length - 1){\r\n\t\t\t\t\t\t\t\t\t\tbgColor += ',';\r\n\t\t\t\t\t\t\t\t\t\tbgColor += _highlights[z].backgroundColor + ' ' + (percent*(z+1)) + '%,';\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tbgColor += ');';\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tbgColor = (_highlights[0].backgroundColor)?'background:'+ _highlights[0].backgroundColor + ';':'';\r\n\t\t\t\t\t\t\t\tlegendIds += highlight.indexOf(_highlights[0]);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tvar Color = (_highlights[0].color)?'color:'+ _highlights[0].color + ';':'';\r\n\t\t\t\t\t\t\tlabelElements[i].setAttribute('style',bgColor + Color);\r\n\t\t\t\t\t\t\tlabelElements[i].setAttribute('data-legend-id',legendIds);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tgenerateLegends();\r\n\t\t};\r\n\r\n\t\tfunction setDate(){\r\n\t\t\tif(that.el.tables.childNodes.length > 0 && that.el.tables.childNodes[0].childNodes.length > 0){}else{return;}\r\n\r\n\t\t\tresetCalendar();\r\n\r\n\t\t\tif(currentMonth > 12 || currentMonth < 1){\r\n\t\t\t\tif(currentMonth > 12){\r\n\t\t\t\t\tcurrentYear += 1;\r\n\t\t\t\t\tcurrentMonth -= 12;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tcurrentYear -= 1;\r\n\t\t\t\t\tcurrentMonth += 12;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif(maxDate && new Date(currentYear,currentMonth-1+months-1,1) >= new Date(maxDate).setDate(1)){\r\n\t\t\t\tcurrentYear = maxDate.getFullYear();\r\n\t\t\t\tcurrentMonth = maxDate.getMonth() + 1 - months + 1;\r\n\t\t\t\tthat.el.header.childNodes[2].setAttribute('style','visibility:hidden');\r\n\t\t\t}else{\r\n\t\t\t\tthat.el.header.childNodes[2].removeAttribute('style');\r\n\t\t\t}\r\n\t\t\tif(minDate && new Date(currentYear,currentMonth -1,1) <= new Date(minDate).setDate(1)){\r\n\t\t\t\tcurrentYear = minDate.getFullYear();\r\n\t\t\t\tcurrentMonth = minDate.getMonth() + 1;\r\n\t\t\t\tthat.el.header.childNodes[0].setAttribute('style','visibility:hidden');\r\n\t\t\t}else{\r\n\t\t\t\tthat.el.header.childNodes[0].removeAttribute('style');\r\n\t\t\t}\r\n\r\n\t\t\tfor(var c = 0;c < months;c++){\r\n\t\t\t\tvar index = currentMonth-1+c;\r\n\t\t\t\tif(index > 11){\r\n\t\t\t\t\tindex -= 12;\r\n\t\t\t\t}else if(index < 0){\r\n\t\t\t\t\tindex += 12;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthat.el.monthPicker.childNodes[index].classList.add('current');\r\n\t\t\t}\r\n\r\n\t\t\tgenerateDates(currentYear,currentMonth);\r\n\t\t\tgenerateYears();\r\n\t\t\tvar startmonth = languages[lang].monthNames[currentMonth-1];\r\n\t\t\tvar endmonth = '';\r\n\t\t\tif(months > 1){\r\n\t\t\t\tendmonth += ' - ';\r\n\t\t\t\tvar monthint = currentMonth-1+months-1;\r\n\t\t\t\tif(monthint > 11){\r\n\t\t\t\t\tmonthint -= 12;\r\n\t\t\t\t}else if(monthint < 0){\r\n\t\t\t\t\tmonthint += 12;\r\n\t\t\t\t}\r\n\t\t\t\tendmonth += languages[lang].monthNames[monthint];\r\n\t\t\t}\r\n\t\t\tvar yearname = (currentMonth-1+months-1 > 11)?currentYear.toString().substring(2,4) + '/' + (currentYear + 1).toString().substring(2,4):currentYear.toString().substring(2,4);\r\n\t\t\tthat.el.header.childNodes[1].childNodes[0].innerHTML = startmonth + endmonth;\r\n\t\t\tthat.el.header.childNodes[1].childNodes[1].innerHTML = yearname;\r\n\r\n\t\t\tthat.el.yearPicker.querySelector('[data-year=\"0\"]').classList.add('current');\r\n\t\t\tif(currentMonth-1+months-1>11){\r\n\t\t\t\tthat.el.yearPicker.querySelector('[data-year=\"1\"]').classList.add('current');\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\trenderSelectedDates();\r\n\t\t};\r\n\r\n\t\tfunction renderSelectedDates(){\r\n\t\t\tfor(var i = 0; i < selectedDates.length;i++){\r\n\t\t\t\tvar date = selectedDates[i].toJSON();\r\n\t\t\t\tvar el = that.el.querySelector('[data-date=\"' + date + '\"]');\r\n\t\t\t\tif(el){\r\n\t\t\t\t\tel.checked = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthat.el.tables.classList.remove('before');\r\n\t\t\tif(range && selectedDates.length > 1){\r\n\t\t\t\tvar currentDate = new Date(currentYear,currentMonth-1,1);\r\n\t\t\t\tvar sorted = selectedDates.sort(function(a,b){return a.getTime()-b.getTime()});\r\n\t\t\t\tvar first = that.el.querySelector('[data-date=\"'+ sorted[0].toJSON() +'\"]');\r\n\t\t\t\tif(!first && currentDate >= new Date(sorted[0].getFullYear(),sorted[0].getMonth(),1) && currentDate <= new Date(sorted[1].getFullYear(),sorted[1].getMonth(),1)){\r\n\t\t\t\t\tthat.el.tables.classList.add('before');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tfunction resetCalendar(){\r\n\t\t\tvar inputElements = that.el.querySelectorAll('.d-table input');\r\n\t\t\tfor(var i = 0; i < inputElements.length; i++){\r\n\t\t\t\tinputElements[i].checked = false;\r\n\t\t\t}\r\n\t\t\tvar monthPick = that.el.monthPicker.querySelectorAll('.current');\r\n\t\t\tif(monthPick.length){\r\n\t\t\t\tfor(var x = 0;x<monthPick.length;x++){\r\n\t\t\t\t\tmonthPick[x].classList.remove('current');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar yearPick = that.el.yearPicker.querySelectorAll('.current');\r\n\t\t\tif(yearPick.length){\r\n\t\t\t\tfor(var x = 0;x<yearPick.length;x++){\r\n\t\t\t\t\tyearPick[x].classList.remove('current');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t\tfunction nextMonth(){\r\n\t\t\tcurrentMonth += months;\r\n\t\t\tsetDate();\r\n\t\t};\r\n\r\n\t\tfunction prevMonth(){\r\n\t\t\tcurrentMonth -= months;\r\n\t\t\tsetDate();\r\n\t\t};\r\n\r\n\t\tfunction selectDate(date){\r\n\t\t\tdate.setHours(0,0,0,0);\r\n\t\t\tvar el = that.el.querySelector('[data-date=\"'+ date.toJSON() +'\"]');\r\n\t\t\tif(el && !el.checked){\r\n\t\t\t\tel.checked = true;\r\n\t\t\t}\r\n\r\n\t\t\tselectedDates.push(date);\r\n\r\n\t\t\tif(onSelect){\r\n\t\t\t\tonSelect.apply(date,[true]);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tfunction unselectDate(date){\r\n\t\t\tdate.setHours(0,0,0,0);\r\n\t\t\tvar el = that.el.querySelector('[data-date=\"'+ date.toJSON() +'\"]');\r\n\t\t\tif(el){\r\n\t\t\t\tel.classList.remove('single');\r\n\t\t\t\tif(el.checked){el.checked = false;}\r\n\t\t\t}\r\n\r\n\t\t\tselectedDates = selectedDates.filter(function(x){return x.getTime() != date.getTime()});\r\n\r\n\t\t\tif(onSelect){\r\n\t\t\t\tonSelect.apply(date,[false]);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tfunction unselectAll(){\r\n\t\t\tfor(var i = 0; i < selectedDates.length; i){\r\n\t\t\t\tunselectDate(selectedDates[i]);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tfunction inputChange(e){\r\n\t\t\tvar input = this;\r\n\t\t\tvar date = new Date(input.getAttribute('data-date'));\r\n\t\t\tinput.classList.remove('single');\r\n\t\t\tif(locked){return;}\r\n\t\t\tif(range){\r\n\t\t\t\tthat.el.tables.classList.remove('before');\r\n\t\t\t}\r\n\t\t\tif(input.checked){\r\n\t\t\t\tif(maxSelections && selectedDates.length > maxSelections-1){\r\n\t\t\t\t\tvar length = selectedDates.length;\r\n\t\t\t\t\tfor(length; length > maxSelections-1; length --){\r\n\t\t\t\t\t\tunselectDate(selectedDates[0]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(range){\r\n\t\t\t\t\t\tvar first = that.el.querySelector('[data-date=\"'+ selectedDates[0].toJSON() +'\"]');\r\n\t\t\t\t\t\tif(!first && date > selectedDates[0]){\r\n\t\t\t\t\t\t\tthat.el.tables.classList.add('before');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tselectedDates.push(date);\r\n\t\t\t\t\r\n\t\t\t\tif(closeOnSelect){\r\n\t\t\t\t\tthat.hide();\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tif(range && selectedDates.length == 1 && selectedDates[0].getTime() == date.getTime()){\r\n\t\t\t\t\tselectDate(date);\r\n\t\t\t\t\tinput.classList.add('single');\r\n\t\t\t\t}else{\r\n\t\t\t\t\tselectedDates = selectedDates.filter(function(x){return x.getTime() != date.getTime()})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif(onSelect){\r\n\t\t\t\tonSelect.apply(date,[input.checked]);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tfunction setRange(val){\r\n\t\t\tif(val){\r\n\t\t\t\trange = true;\r\n\t\t\t\tthat.el.tables.classList.add('range');\r\n\t\t\t}else{\r\n\t\t\t\trange = false;\r\n\t\t\t\tthat.el.tables.classList.remove('range');\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tfunction show(properties){\r\n\t\t\tsetArgs(properties);\r\n\t\t\tvar handler = function(){\r\n\t\t\t\tthat.el.classList.remove('show');\r\n\t\t\t\tthat.el.calendar.removeEventListener(whichAnimationEvent(),handler);\r\n\t\t\t};\r\n\t\t\tthat.el.calendar.addEventListener(whichAnimationEvent(),handler);\r\n\t\t\tthat.el.classList.add('show');\r\n\t\t\tcontainer.appendChild(that.el);\r\n\t\t\topened = true;\r\n\t\t\tif(startDate){\r\n\t\t\t\tcurrentMonth = startDate.getMonth() + 1;\r\n\t\t\t\tcurrentYear = startDate.getFullYear();\r\n\t\t\t}\r\n\t\t\tsetDate();\r\n\t\t};\r\n\r\n\t\tfunction hide(){\r\n\t\t\tthat.el.classList.remove('show');\r\n\t\t\tvar handler = function(){\r\n\t\t\t\tthat.el.parentNode.removeChild(that.el);\r\n\t\t\t\topened = false;\r\n\t\t\t\tthat.el.classList.remove('hide');\r\n\t\t\t\tif(typeof onClose == 'function'){\r\n\t\t\t\t\tonClose.apply(that);\r\n\t\t\t\t}\r\n\t\t\t\tthat.el.removeEventListener(whichAnimationEvent(),handler);\r\n\t\t\t}\r\n\t\t\tthat.el.addEventListener(whichAnimationEvent(),handler);\r\n\t\t\tthat.el.classList.add('hide');\r\n\t\t};\r\n\r\n\t\tfunction bindEvents(){\r\n\t\t\tthat.el.header.childNodes[0].addEventListener(eventName,prevMonth);\r\n\t\t\tthat.el.header.childNodes[2].addEventListener(eventName,nextMonth);\r\n\t\t\tthat.el.header.childNodes[1].childNodes[0].addEventListener(eventName,function(){\r\n\t\t\t\tif(that.el.monthPicker.classList.contains('show')){\r\n\t\t\t\t\tthat.el.monthPicker.classList.remove('show');\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthat.el.monthPicker.classList.add('show');\r\n\t\t\t\t}\r\n\t\t\t\tthat.el.yearPicker.classList.remove('show');\r\n\t\t\t});\r\n\t\t\tthat.el.header.childNodes[1].childNodes[1].addEventListener(eventName,function(){\r\n\t\t\t\tgenerateYears();\r\n\t\t\t\tif(that.el.yearPicker.classList.contains('show')){\r\n\t\t\t\t\tthat.el.yearPicker.classList.remove('show');\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthat.el.yearPicker.classList.add('show');\r\n\t\t\t\t}\r\n\t\t\t\tthat.el.monthPicker.classList.remove('show');\r\n\t\t\t});\r\n\t\t\tthat.el.button.addEventListener(eventName,hide);\r\n\r\n\t\t\tthat.el.overlay.addEventListener(eventName,function(){\r\n\t\t\t\tif(closeOnClick){\r\n\t\t\t\t\tthat.hide();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tvar monthPickers = that.el.monthPicker.childNodes;\r\n\t\t\tfor(var y = 0; y < monthPickers.length;y++){\r\n\t\t\t\tmonthPickers[y].addEventListener(eventName,function(){\r\n\t\t\t\t\tcurrentMonth = parseInt(this.getAttribute('data-month'));\r\n\t\t\t\t\tsetDate();\r\n\t\t\t\t\tthat.el.monthPicker.classList.remove('show');\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tvar yearPickers = that.el.yearPicker.childNodes;\r\n\t\t\tfor(var y = 0; y < yearPickers.length;y++){\r\n\t\t\t\tyearPickers[y].addEventListener(eventName,function(){\r\n\t\t\t\t\tcurrentYear += parseInt(this.getAttribute('data-year'));\r\n\t\t\t\t\tsetDate();\r\n\t\t\t\t\tthat.el.yearPicker.classList.remove('show');\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tvar startX = 0;\r\n\t\t\tvar distance = 0;\r\n\t\t\tthat.el.calendar.addEventListener('touchstart',function(e){\r\n\t\t\t\tstartX = e.changedTouches[0].clientX || e.originalEvent.changedTouches[0].clientX;\r\n\t\t\t\t//e.preventDefault();\r\n\t\t\t});\r\n\r\n\t\t\tthat.el.calendar.addEventListener('touchmove',function(e){\r\n\t\t\t\tdistance = e.changedTouches[0].clientX - startX || e.originalEvent.changedTouches[0].clientX - startX;\r\n\t\t\t\te.preventDefault();\r\n\t\t\t});\r\n\r\n\t\t\tthat.el.calendar.addEventListener('touchend',function(e){\r\n\t\t\t\tif(distance > 50){\r\n\t\t\t\t\tprevMonth();\r\n\t\t\t\t}else if(distance < -50){\r\n\t\t\t\t\tnextMonth();\r\n\t\t\t\t}\r\n\t\t\t\tdistance = 0;\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\tfunction setArgs(x){\r\n\t\t\tfor(key in x){\r\n\t\t\t\tif(key in that){\r\n\t\t\t\t\tthat[key] = x[key];\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t};\r\n\r\n\t\tfunction init(){\r\n\t\t\tthat.el = document.createElement('div');\r\n\t\t\tthat.el.id = 'Datepickk';\r\n\t\t\tthat.el.classList.add(getBrowserVersion().type);\r\n\t\t\tthat.el.innerHTML = template;\r\n\t\t\tthat.el.calendar = that.el.childNodes[1];\r\n\t\t\tthat.el.titleBox = that.el.childNodes[0];\r\n\t\t\tthat.el.button = that.el.childNodes[3];\r\n\t\t\tthat.el.header = that.el.calendar.childNodes[0];\r\n\t\t\tthat.el.monthPicker = that.el.calendar.childNodes[1];\r\n\t\t\tthat.el.yearPicker = that.el.calendar.childNodes[2];\r\n\t\t\tthat.el.tables = that.el.calendar.childNodes[4];\r\n\t\t\tthat.el.days = that.el.calendar.childNodes[3];\r\n\t\t\tthat.el.overlay = that.el.childNodes[4];\r\n\t\t\tthat.el.legend = that.el.childNodes[2];\r\n\r\n\t\t\tsetArgs(args);\r\n\r\n\t\t\tgenerateInputs();\r\n\t\t\tgenerateDaynames();\r\n\t\t\tbindEvents();\r\n\r\n\t\t\tif(inline){\r\n\t\t\t\tshow();\r\n\t\t\t}\r\n\r\n\t\t\tif(window.FastClick != null){\r\n\t\t\t\tFastClick.attach(that.el);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthat.show = show;\r\n\t\tthat.hide = hide;\r\n\t\tthat.selectDate = selectDate;\r\n\t\tthat.unselectAll = unselectAll;\r\n\t\tthat.unselectDate = unselectDate;\r\n\r\n\t\tfunction currentDateGetter(){\r\n\t\t\treturn new Date(currentYear,currentMonth-1,1);\r\n\t\t}\r\n\t\tfunction currentDateSetter(x){\r\n\t\t\tif(x instanceof Date){\r\n\t\t\t\tcurrentMonth = x.getMonth() + 1;\r\n\t\t\t\tcurrentYear = x.getFullYear();\r\n\t\t\t\tsetDate();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tObject.defineProperties(that,{\r\n\t\t\t\"selectedDates\": { \r\n\t\t\t\tget: function () { \r\n\t\t\t\t\treturn selectedDates.sort(function(a,b){return a.getTime() - b.getTime();}); \r\n\t\t\t\t\t} \r\n\t\t\t},\r\n\t\t\t\"range\": {\r\n\t\t\t\tget: function() {\r\n\t\t\t\t\treturn range;\r\n\t\t\t\t},\r\n\t\t\t\tset: function(x) {\r\n\t\t\t\t\tsetRange(x);\r\n\t\t\t\t\tif(x){maxSelections = 2;}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\"button\": {\r\n\t\t\t\tget: function() {\r\n\t\t\t\t\treturn button;\r\n\t\t\t\t},\r\n\t\t\t\tset: function(x){\r\n\t\t\t\t\tif(typeof x == 'string'){\r\n\t\t\t\t\t\tbutton = x;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tbutton = null;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthat.el.button.innerHTML = (button)?button:'';\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\"title\": {\r\n\t\t\t\tget: function(){\r\n\t\t\t\t\treturn title;\r\n\t\t\t\t},\r\n\t\t\t\tset: function(x){\r\n\t\t\t\t\tif(typeof x == 'string'){\r\n\t\t\t\t\t\ttitle = x;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\ttitle = null;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthat.el.titleBox.innerText = (title)?title:'';\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\"lang\": {\r\n\t\t\t\tget: function(){\r\n\t\t\t\t\treturn lang;\r\n\t\t\t\t},\r\n\t\t\t\tset: function(x){\r\n\t\t\t\t\tif(x in languages){\r\n\t\t\t\t\t\tlang = x;\r\n\t\t\t\t\t\tgenerateDaynames();\r\n\t\t\t\t\t\tsetDate();\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tconsole.error('Language not found');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\"months\": {\r\n\t\t\t\tget: function(){\r\n\t\t\t\t\treturn months;\r\n\t\t\t\t},\r\n\t\t\t\tset: function(x){\r\n\t\t\t\t\tif(typeof x == 'number' && x > 0){\r\n\t\t\t\t\t\tmonths = x;\r\n\t\t\t\t\t\tgenerateDaynames();\r\n\t\t\t\t\t\tgenerateInputs();\r\n\t\t\t\t\t\tsetDate();\r\n\r\n\t\t\t\t\t\tif(months == 1){\r\n\t\t\t\t\t\t\tthat.el.classList.remove('multi');\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tthat.el.classList.add('multi');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tconsole.error('months must be a number > 0');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\"isOpen\": {\r\n\t\t\t\tget: function(){\r\n\t\t\t\t\treturn opened;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\"closeOnSelect\": {\r\n\t\t\t\tget: function(){\r\n\t\t\t\t\treturn closeOnSelect;\r\n\t\t\t\t},\r\n\t\t\t\tset: function(x){\r\n\t\t\t\t\tif(x){\r\n\t\t\t\t\t\tcloseOnSelect = true; \r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tcloseOnSelect = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\"disabledDays\": {\r\n\t\t\t\tget: function(){\r\n\t\t\t\t\treturn disabledDays;\r\n\t\t\t\t},\r\n\t\t\t\tset: function(x){\r\n\t\t\t\t\tif(x instanceof Array){\r\n\t\t\t\t\t\tfor(var i = 0;i < x.length;i++){\r\n\t\t\t\t\t\t\tif(typeof x[i] == 'number'){\r\n\t\t\t\t\t\t\t\tdisabledDays.push(x[i]);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else if(typeof x == 'number'){\r\n\t\t\t\t\t\tdisabledDays = [x];\r\n\t\t\t\t\t}else if(!x){\r\n\t\t\t\t\t\tdisabledDays = [];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsetDate();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\"disabledDates\": {\r\n\t\t\t\tget: function(){\r\n\t\t\t\t\treturn disabledDates.map(function(x){return new Date(x);});\r\n\t\t\t\t},\r\n\t\t\t\tset: function(x){\r\n\t\t\t\t\tif(x instanceof Array){\r\n\t\t\t\t\t\tfor(var i = 0;i < x.length;i++){\r\n\t\t\t\t\t\t\tif(x[i] instanceof Date){\r\n\t\t\t\t\t\t\t\tdisabledDates.push(new Date(x[i].getFullYear(),x[i].getMonth(),x[i].getDate()).getTime());\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else if(x instanceof Date){\r\n\t\t\t\t\t\tdisabledDates = [new Date(x.getFullYear(),x.getMonth(),x.getDate()).getTime()];\r\n\t\t\t\t\t}else if(!x){\r\n\t\t\t\t\t\tdisabledDates = [];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsetDate();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\"highlight\": {\r\n\t\t\t\tget: function(){\r\n\t\t\t\t\treturn highlight;\r\n\t\t\t\t},\r\n\t\t\t\tset: function(x){\r\n\t\t\t\t\tif(x instanceof Array){\r\n\t\t\t\t\t\tfor(var i = 0;i < x.length;i++){\r\n\t\t\t\t\t\t\tif(x[i] instanceof Object){\r\n\t\t\t\t\t\t\t\tvar highlightObj = {};\r\n\t\t\t\t\t\t\t\t\thighlightObj.dates = [];\r\n\r\n\t\t\t\t\t\t\t\tif('start' in x[i]){\r\n\t\t\t\t\t\t\t\t\thighlightObj.dates.push({\r\n\t\t\t\t\t\t\t\t\t\tstart: new Date(x[i].start.getFullYear(),x[i].start.getMonth(),x[i].start.getDate()),\r\n\t\t\t\t\t\t\t\t\t\tend: ('end' in x[i])?new Date(x[i].end.getFullYear(),x[i].end.getMonth(),x[i].end.getDate()):new Date(x[i].start.getFullYear(),x[i].start.getMonth(),x[i].start.getDate())\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}else if('dates' in x[i] && x[i].dates instanceof Array){\r\n\t\t\t\t\t\t\t\t\tfor(var n = 0;n < x[i].dates.length;n++){\r\n\t\t\t\t\t\t\t\t\t\thighlightObj.dates.push({\r\n\t\t\t\t\t\t\t\t\t\t\tstart: new Date(x[i].dates[n].start.getFullYear(),x[i].dates[n].start.getMonth(),x[i].dates[n].start.getDate()),\r\n\t\t\t\t\t\t\t\t\t\t\tend: ('end' in x[i].dates[n])?new Date(x[i].dates[n].end.getFullYear(),x[i].dates[n].end.getMonth(),x[i].dates[n].end.getDate()):new Date(x[i].dates[n].start.getFullYear(),x[i].dates[n].start.getMonth(),x[i].dates[n].start.getDate())\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\thighlightObj.color \t\t\t\t= x[i].color;\r\n\t\t\t\t\t\t\t\thighlightObj.backgroundColor \t= x[i].backgroundColor;\r\n\t\t\t\t\t\t\t\thighlightObj.legend\t\t\t\t= ('legend' in x[i])?x[i].legend:null;\r\n\r\n\t\t\t\t\t\t\t\thighlight.push(highlightObj);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else if(x instanceof Object){\r\n\t\t\t\t\t\tvar highlightObj = {};\r\n\t\t\t\t\t\thighlightObj.dates = [];\r\n\r\n\t\t\t\t\t\tif('start' in x){\r\n\t\t\t\t\t\t\thighlightObj.dates.push({\r\n\t\t\t\t\t\t\t\tstart: new Date(x.start.getFullYear(),x.start.getMonth(),x.start.getDate()),\r\n\t\t\t\t\t\t\t\tend: ('end' in x)?new Date(x.end.getFullYear(),x.end.getMonth(),x.end.getDate()):new Date(x.start.getFullYear(),x.start.getMonth(),x.start.getDate())\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}else if('dates' in x && x.dates instanceof Array){\r\n\t\t\t\t\t\t\tfor(var n = 0;n < x.dates.length;n++){\r\n\t\t\t\t\t\t\t\thighlightObj.dates.push({\r\n\t\t\t\t\t\t\t\t\tstart: new Date(x.dates[n].start.getFullYear(),x.dates[n].start.getMonth(),x.dates[n].start.getDate()),\r\n\t\t\t\t\t\t\t\t\tend: ('end' in x.dates[n])?new Date(x.dates[n].end.getFullYear(),x.dates[n].end.getMonth(),x.dates[n].end.getDate()):new Date(x.dates[n].start.getFullYear(),x[i].dates[n].start.getMonth(),x[i].dates[n].start.getDate())\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\thighlightObj.color \t\t\t\t= x.color;\r\n\t\t\t\t\t\thighlightObj.backgroundColor \t= x.backgroundColor;\r\n\t\t\t\t\t\thighlightObj.legend\t\t\t\t= ('legend' in x)?x.legend:null;\r\n\r\n\t\t\t\t\t\thighlight.push(highlightObj);\r\n\t\t\t\t\t}else if(!x){\r\n\t\t\t\t\t\thighlight = [];\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tsetDate();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\"onClose\": {\r\n\t\t\t\tset: function(callback){\r\n\t\t\t\t\tonClose = callback;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\"onSelect\": {\r\n\t\t\t\tset: function(callback){\r\n\t\t\t\t\tonSelect = callback;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\"today\": {\r\n\t\t\t\tget: function(){\r\n\t\t\t\t\treturn today;\r\n\t\t\t\t},\r\n\t\t\t\tset: function(x){\r\n\t\t\t\t\tif(x){\r\n\t\t\t\t\t\ttoday = true;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\ttoday = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\"daynames\": {\r\n\t\t\t\tget: function(){\r\n\t\t\t\t\treturn daynames;\r\n\t\t\t\t},\r\n\t\t\t\tset: function(x){\r\n\t\t\t\t\tif(x){\r\n\t\t\t\t\t\tdaynames = true;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tdaynames = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tgenerateDaynames();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\"fullscreen\": {\r\n\t\t\t\tget: function(){\r\n\t\t\t\t\treturn that.el.classList.contains('fullscreen');\r\n\t\t\t\t},\r\n\t\t\t\tset: function(x){\r\n\t\t\t\t\tif(x){\r\n\t\t\t\t\t\tthat.el.classList.add('fullscreen');\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthat.el.classList.remove('fullscreen');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\"locked\": {\r\n\t\t\t\tget: function(){\r\n\t\t\t\t\treturn locked;\r\n\t\t\t\t},\r\n\t\t\t\tset: function(x){\r\n\t\t\t\t\tif(x){\r\n\t\t\t\t\t\tlocked = true;\r\n\t\t\t\t\t\tthat.el.tables.classList.add('locked');\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tlocked = false;\r\n\t\t\t\t\t\tthat.el.tables.classList.remove('locked');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\"maxSelections\": {\r\n\t\t\t\tget: function(){\r\n\t\t\t\t\treturn maxSelections;\r\n\t\t\t\t},\r\n\t\t\t\tset: function(x){\r\n\t\t\t\t\tif(typeof x == 'number' && !range){\r\n\t\t\t\t\t\tmaxSelections = x;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tif(range){\r\n\t\t\t\t\t\t\tmaxSelections = 2;\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tmaxSelections = null;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\"onConfirm\": {\r\n\t\t\t\tset: function(callback){\r\n\t\t\t\t\tif(typeof callback == 'function'){\r\n\t\t\t\t\t\tonConfirm = callback.bind(that);\r\n\t\t\t\t\t\tthat.el.button.addEventListener(eventName,onConfirm);\r\n\t\t\t\t\t}else if(!callback){\r\n\t\t\t\t\t\tthat.el.button.removeEventListener(eventName,onConfirm);\r\n\t\t\t\t\t\tonConfirm = null;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\"closeOnClick\": {\r\n\t\t\t\tget: function(){\r\n\t\t\t\t\treturn closeOnClick;\r\n\t\t\t\t},\r\n\t\t\t\tset: function(x){\r\n\t\t\t\t\tif(x){\r\n\t\t\t\t\t\tcloseOnClick = true;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tcloseOnClick = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\"tooltips\": {\r\n\t\t\t\tget: function(){\r\n\t\t\t\t\tvar ret = [];\r\n\t\t\t\t\tfor(key in tooltips){\r\n\t\t\t\t\t\tret.push({\r\n\t\t\t\t\t\t\tdate: new Date(parseInt(key)),\r\n\t\t\t\t\t\t\ttext: tooltips[key]\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn ret;\r\n\t\t\t\t},\r\n\t\t\t\tset: function(x){\r\n\t\t\t\t\tif(x instanceof Array){\r\n\t\t\t\t\t\tfor(var i = 0;i < x.length;i++){\r\n\t\t\t\t\t\t\tif(x[i].date && x[i].text && x[i].date instanceof Date){\r\n\t\t\t\t\t\t\t\ttooltips[new Date(x[i].date.getFullYear(),x[i].date.getMonth(),x[i].date.getDate()).getTime()] = x[i].text;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else if(x instanceof Object){\r\n\t\t\t\t\t\tif(x.date && x.text && x.date instanceof Date){\r\n\t\t\t\t\t\t\ttooltips[new Date(x.date.getFullYear(),x.date.getMonth(),x.date.getDate()).getTime()] = x.text;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else if(!x){\r\n\t\t\t\t\t\ttooltips = [];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsetDate();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\"currentDate\": {\r\n\t\t\t\tget: currentDateGetter,\r\n\t\t\t\tset: currentDateSetter\r\n\t\t\t},\r\n\t\t\t\"setDate\": {\r\n\t\t\t\tset: currentDateSetter\r\n\t\t\t},\r\n\t\t\t\"startDate\": {\r\n\t\t\t\tget: function(){\r\n\t\t\t\t\treturn startDate;\r\n\t\t\t\t},\r\n\t\t\t\tset: function(x){\r\n\t\t\t\t\tif(x instanceof Date){\r\n\t\t\t\t\t\tstartDate = x;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tstartDate = null;\r\n\t\t\t\t\t\tcurrentYear = new Date().getFullYear();\r\n\t\t\t\t\t\tcurrentMonth = new Date().getMonth() + 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsetDate();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\"minDate\": {\r\n\t\t\t\tget: function(){\r\n\t\t\t\t\treturn minDate;\r\n\t\t\t\t},\r\n\t\t\t\tset: function(x){\r\n\t\t\t\t\tif(x instanceof Date){\r\n\t\t\t\t\t\tminDate = x;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tminDate = null;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsetDate();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\"maxDate\": {\r\n\t\t\t\tget: function(){\r\n\t\t\t\t\treturn maxDate;\r\n\t\t\t\t},\r\n\t\t\t\tset: function(x){\r\n\t\t\t\t\tif(x instanceof Date){\r\n\t\t\t\t\t\tmaxDate = x;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tmaxDate = null;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsetDate();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\"container\": {\r\n\t\t\t\tget: function(){\r\n\t\t\t\t\treturn container;\r\n\t\t\t\t},\r\n\t\t\t\tset: function(x){\r\n\t\t\t\t\tif(x instanceof String){\r\n\t\t\t\t\t\tvar y = document.querySelector(x);\r\n\t\t\t\t\t\tif(y){\r\n\t\t\t\t\t\t\tcontainer = y;\r\n\t\t\t\t\t\t\tif(container != document.body){\r\n\t\t\t\t\t\t\t\tthat.el.classList.add('wrapped');\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tthat.el.classList.remove('wrapped');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tconsole.error(\"Container doesn't exist\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else if(x instanceof HTMLElement){\r\n\t\t\t\t\t\tcontainer = x;\r\n\t\t\t\t\t\tif(container != document.body){\r\n\t\t\t\t\t\t\tthat.el.classList.add('wrapped');\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tthat.el.classList.remove('wrapped');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tconsole.error(\"Invalid type\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\"inline\": {\r\n\t\t\t\tget: function(){\r\n\t\t\t\t\treturn inline;\r\n\t\t\t\t},\r\n\t\t\t\tset: function(x){\r\n\t\t\t\t\tif(x){\r\n\t\t\t\t\t\tinline = true;\r\n\t\t\t\t\t\tthat.el.classList.add('inline');\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tinline = false;\r\n\t\t\t\t\t\tthat.el.classList.remove('inline');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\r\n\t\t});\r\n\r\n\t\tinit();\r\n\t\tsetDate();\r\n\r\n\t\treturn Object.freeze(that);\r\n\t};\r\n\r\n\tfunction whichAnimationEvent(){\r\n\t    var t;\r\n\t    var el = document.createElement('fakeelement');\r\n\t    var transitions = {\r\n\t      'animation':'animationend',\r\n\t      'OAnimation':'oanimationend',\r\n\t      'MozAnimation':'animationend',\r\n\t      'WebkitAnimation':'webkitAnimationEnd',\r\n\t      '':'MSAnimationEnd'\r\n\t    };\r\n\r\n\t    for(t in transitions){\r\n\t        if( el.style[t] !== undefined ){\r\n\t            return transitions[t];\r\n\t        }\r\n\t    }\r\n\t}\r\n\r\n\tvar template = \t'<div class=\"d-title\"></div>' +\r\n\t\t\t\t\t'<div class=\"d-calendar\">' +\r\n\t\t\t\t\t\t'<div class=\"d-header\">' +\r\n\t\t\t\t\t\t\t'<i id=\"d-previous\"></i>' +\r\n\t\t\t\t\t\t\t'<p><span class=\"d-month\"></span><span class=\"d-year\"></span></p>' +\r\n\t\t\t\t\t\t\t'<i id=\"d-next\"></i>' +\r\n\t\t\t\t\t\t'</div>' +\r\n\t\t\t\t\t\t'<div class=\"d-month-picker\">' +\r\n\t\t\t\t\t\t\t'<div data-month=\"1\">1</div>' +\r\n\t\t\t\t\t\t\t'<div data-month=\"2\">2</div>' +\r\n\t\t\t\t\t\t\t'<div data-month=\"3\">3</div>' +\r\n\t\t\t\t\t\t\t'<div data-month=\"4\">4</div>' +\r\n\t\t\t\t\t\t\t'<div data-month=\"5\">5</div>' +\r\n\t\t\t\t\t\t\t'<div data-month=\"6\">6</div>' +\r\n\t\t\t\t\t\t\t'<div data-month=\"7\">7</div>' +\r\n\t\t\t\t\t\t\t'<div data-month=\"8\">8</div>' +\r\n\t\t\t\t\t\t\t'<div data-month=\"9\">9</div>' +\r\n\t\t\t\t\t\t\t'<div data-month=\"10\">10</div>' +\r\n\t\t\t\t\t\t\t'<div data-month=\"11\">11</div>' +\r\n\t\t\t\t\t\t\t'<div data-month=\"12\">12</div>' +\r\n\t\t\t\t\t\t'</div>' + \r\n\t\t\t\t\t\t'<div class=\"d-year-picker\">' + \r\n\t\t\t\t\t\t\t'<div data-year=\"-5\"></div>' +\r\n\t\t\t\t\t\t\t'<div data-year=\"-4\"></div>' +\r\n\t\t\t\t\t\t\t'<div data-year=\"-3\"></div>' +\r\n\t\t\t\t\t\t\t'<div data-year=\"-2\"></div>' +\r\n\t\t\t\t\t\t\t'<div data-year=\"-1\"></div>' +\r\n\t\t\t\t\t\t\t'<div data-year=\"0\"></div>' +\r\n\t\t\t\t\t\t\t'<div data-year=\"1\"></div>' +\r\n\t\t\t\t\t\t\t'<div data-year=\"2\"></div>' +\r\n\t\t\t\t\t\t\t'<div data-year=\"3\"></div>' +\r\n\t\t\t\t\t\t\t'<div data-year=\"4\"></div>' +\r\n\t\t\t\t\t\t\t'<div data-year=\"5\"></div>' +\r\n\t\t\t\t\t\t'</div>' +\r\n\t\t\t\t\t\t'<div class=\"d-weekdays\"></div>' +\r\n\t\t\t\t\t\t'<div class=\"d-tables\"></div>' +\r\n\t\t\t\t\t'</div>' + \r\n\t\t\t\t\t'<div class=\"d-legend\"></div>' +\r\n\t\t\t\t\t'<button class=\"d-confirm\"></button>' + \r\n\t\t\t\t\t'<div class=\"d-overlay\"></div>';\r\n\twindow.Datepickk = Datepickk;\r\n\r\n\tvar getBrowserVersion =  function(){\r\n\t\tvar browser = {\r\n\t\t\ttype: null,\r\n\t\t\tversion: null\r\n\t\t}\r\n\r\n\t\tvar ua= navigator.userAgent, tem, ios,\r\n\t    M= ua.match(/(opera|chrome|safari|firefox|msie|trident(?=\\/))\\/?\\s*(\\d+)/i) || [];\r\n\t    ios = ua.match(/(iphone|ipad)\\s+OS\\s+([\\d+_]+\\d+)/i) || [];\r\n\t    if(/trident/i.test(M[1])){\r\n\t        tem=  /\\brv[ :]+(\\d+)/g.exec(ua) || [];\r\n\t        browser.type = 'MSIE';\r\n\t        browser.version = parseInt(tem[1]);\r\n\t        return browser;\r\n\t    }\r\n\t    if(M[1]=== 'Chrome'){\r\n\t        tem= ua.match(/\\bOPR\\/(\\d+)/)\r\n\t        if(tem!= null) return 'Opera '+tem[1];\r\n\t    }\r\n\t    if(ios[1]){\r\n\t    \treturn browser = {\r\n\t    \t\ttype: 'iOS',\r\n\t    \t\tversion: ios[2]\r\n\t    \t};\r\n\t    }\r\n\t    M= M[2]? [M[1], M[2]]: [navigator.appName, navigator.appVersion, '-?'];\r\n\t    if((tem= ua.match(/version\\/(\\d+)/i))!= null) M.splice(1, 1, tem[1]);\r\n\t    browser.type = M[0];\r\n\t    browser.version = parseInt(M[1]);\r\n\r\n\t    return browser;\r\n\t}\r\n})();"],"sourceRoot":"/source/"}