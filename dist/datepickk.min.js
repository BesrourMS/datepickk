!function(){function e(r){function i(){if(E.el.days.innerHTML="",Q)for(var e=0;q>e&&3>e;e++){var t=document.createElement("div");t.setAttribute("class","d-week");for(var n=0;7>n;n++){var a=document.createElement("div");dayTextEl=document.createElement("p"),dayTextEl.innerHTML=languages[R].dayNames[n],a.appendChild(dayTextEl),t.appendChild(a)}E.el.days.appendChild(t)}}function l(){for(var e=E.el.yearPicker.childNodes,t=0;t<e.length;t++){var n=C+parseInt(e[t].getAttribute("data-year"));e[t].innerHTML="'"+n.toString().substring(2,4)}}function d(){E.el.tables.innerHTML="";for(var t=0;q>t;t++){var n=document.createElement("div");n.setAttribute("class","d-table");for(var a=0;42>a;a++){var r=document.createElement("input");r.type="checkbox",r.id=e.numInstances+"-"+t+"-d-day-"+a;var i=document.createElement("label");i.setAttribute("for",e.numInstances+"-"+t+"-d-day-"+a);var l=document.createElement("text"),d=document.createElement("span");d.setAttribute("class","d-tooltip"),n.appendChild(r),n.appendChild(i),i.appendChild(l),i.appendChild(d),r.addEventListener(T,function(){te&&event.preventDefault()}),r.addEventListener("change",y)}E.el.tables.appendChild(n)}}function s(){function e(e){for(var t=this.getAttribute("data-legend-id"),n=E.el.tables.querySelectorAll('[data-legend-id*="'+t+'"]'),a=0;a<n.length;a++)"mouseover"==e.type?n[a].classList.add("legend-hover"):n[a].classList.remove("legend-hover")}for(var t=new Date(E.el.tables.childNodes[0].childNodes[0].getAttribute("data-date")),n=new Date(E.el.tables.childNodes[q-1].childNodes[82].getAttribute("data-date")),a=G.filter(function(e){for(var a=0;a<e.dates.length;a++)if(e.dates[a].start<n&&e.dates[a].end>t)return!0;return!1}),r=[],i=0;i<a.length;i++)if("legend"in a[i]&&a[i].legend){var l=Y.querySelector('.d-legend-item[data-legend="'+a[i].legend+'"][data-color="'+a[i].backgroundColor+'"]');if(null==l){var d=document.createElement("p");d.setAttribute("class","d-legend-item"),d.setAttribute("data-legend",a[i].legend),d.setAttribute("data-legend-id",G.indexOf(a[i])),d.setAttribute("data-color",a[i].backgroundColor);var s=document.createElement("span");s.setAttribute("style","background-color:"+a[i].backgroundColor),d.appendChild(s),E.el.legend.appendChild(d),d.addEventListener("mouseover",e),d.addEventListener("mouseout",e),r.push(d)}else r.push(l)}for(var o=E.el.legend.querySelectorAll(".d-legend-item"),c=0;c<o.length;c++)r.indexOf(o[c])<0&&(o[c].removeEventListener("mouseover",e),o[c].removeEventListener("mouseout",e),E.el.legend.removeChild(o[c]))}function o(e,t){for(var n=E.el.querySelectorAll(".d-table"),a=languages[R].weekStart,r=0;r<n.length;r++){var i=n[r].querySelectorAll(".d-table input"),l=n[r].querySelectorAll(".d-table label"),d=new Date(e,t+r,0).getDate(),o=new Date(e,t+r-1,0).getDate(),c=new Date(e,t+r-1,1).getDay();0>c-a?c=7-a:c-=a,n[r].setAttribute("data-month",languages[R].monthNames[t-1+r]);for(var u=0;u<i.length;u++){i[u].checked=!1,i[u].removeAttribute("disabled"),l[u].removeAttribute("style"),l[u].className="";var g=null;if(c>u?(l[u].childNodes[0].innerHTML=o-(c-u-1),0==r?(g=new Date(e,t+r-2,o-(c-u-1)),l[u].className="prev"):(g="",l[u].className="hidden",i[u].setAttribute("disabled",!0))):d+c>u?(g=new Date(e,t+r-1,u-c+1),l[u].childNodes[0].innerHTML=u-c+1,l[u].className=""):(l[u].childNodes[0].innerHTML=u-d-c+1,r==n.length-1?(g=new Date(e,t+r,u-d-c+1),l[u].className="next"):(g="",l[u].className="hidden",i[u].setAttribute("disabled",!0))),g instanceof Date){i[u].setAttribute("data-date",g.toJSON()),(-1!=W.indexOf(g.getTime())||-1!=_.indexOf(g.getDay()))&&i[u].setAttribute("disabled",!0),($&&$>g||ee&&g>ee)&&(i[u].setAttribute("disabled",!0),l[u].className="hidden"),U&&g.getTime()==(new Date).setHours(0,0,0,0)?l[u].classList.add("today"):l[u].classList.remove("today"),K[g.getTime()]?(l[u].childNodes[0].setAttribute("data-tooltip",!0),l[u].childNodes[1].innerHTML=K[g.getTime()]):(l[u].childNodes[0].removeAttribute("data-tooltip"),l[u].childNodes[1].innerHTML="");var h=G.filter(function(e){for(var t=0;t<e.dates.length;t++)if(g.getTime()>=e.dates[t].start.getTime()&&g.getTime()<=e.dates[t].end.getTime())return!0;return!1});if(h.length>0){var v="",f="";if(h.length>1){var m=Math.round(100/h.length);v="background: linear-gradient(45deg,";for(var b=0;b<h.length;b++)f+=G.indexOf(h[b])+" ",v+=h[b].backgroundColor+" "+m*b+"%",b!=h.length-1&&(v+=",",v+=h[b].backgroundColor+" "+m*(b+1)+"%,");v+=");"}else v=h[0].backgroundColor?"background:"+h[0].backgroundColor+";":"",f+=G.indexOf(h[0]);var y=h[0].color?"color:"+h[0].color+";":"";l[u].setAttribute("style",v+y),l[u].setAttribute("data-legend-id",f)}}}}s()}function c(){if(E.el.tables.childNodes.length>0&&E.el.tables.childNodes[0].childNodes.length>0){g(),(F>12||1>F)&&(F>12?(C+=1,F-=12):(C-=1,F+=12)),ee&&new Date(C,F-1+q-1,1)>=new Date(ee).setDate(1)?(C=ee.getFullYear(),F=ee.getMonth()+1-q+1,E.el.header.childNodes[2].setAttribute("style","visibility:hidden")):E.el.header.childNodes[2].removeAttribute("style"),$&&new Date(C,F-1,1)<=new Date($).setDate(1)?(C=$.getFullYear(),F=$.getMonth()+1,E.el.header.childNodes[0].setAttribute("style","visibility:hidden")):E.el.header.childNodes[0].removeAttribute("style");for(var e=0;q>e;e++){var t=F-1+e;t>11?t-=12:0>t&&(t+=12),E.el.monthPicker.childNodes[t].classList.add("current")}o(C,F),l();var n=languages[R].monthNames[F-1],a="";if(q>1){a+=" - ";var r=F-1+q-1;r>11?r-=12:0>r&&(r+=12),a+=languages[R].monthNames[r]}var i=F-1+q-1>11?C.toString().substring(2,4)+"/"+(C+1).toString().substring(2,4):C.toString().substring(2,4);E.el.header.childNodes[1].childNodes[0].innerHTML=n+a,E.el.header.childNodes[1].childNodes[1].innerHTML=i,E.el.yearPicker.querySelector('[data-year="0"]').classList.add("current"),F-1+q-1>11&&E.el.yearPicker.querySelector('[data-year="1"]').classList.add("current"),u()}}function u(){for(var e=0;e<S.length;e++){var t=S[e].toJSON(),n=E.el.querySelector('[data-date="'+t+'"]');n&&(n.checked=!0)}if(E.el.tables.classList.remove("before"),O&&S.length>1){var a=new Date(C,F-1,1),r=S.sort(function(e,t){return e.getTime()-t.getTime()}),i=E.el.querySelector('[data-date="'+r[0].toJSON()+'"]');!i&&a>=new Date(r[0].getFullYear(),r[0].getMonth(),1)&&a<=new Date(r[1].getFullYear(),r[1].getMonth(),1)&&E.el.tables.classList.add("before")}}function g(){for(var e=E.el.querySelectorAll(".d-table input"),t=0;t<e.length;t++)e[t].checked=!1;var n=E.el.monthPicker.querySelectorAll(".current");if(n.length)for(var a=0;a<n.length;a++)n[a].classList.remove("current");var r=E.el.yearPicker.querySelectorAll(".current");if(r.length)for(var a=0;a<r.length;a++)r[a].classList.remove("current")}function h(){F+=q,c()}function v(){F-=q,c()}function f(e){e.setHours(0,0,0,0);var t=E.el.querySelector('[data-date="'+e.toJSON()+'"]');t&&!t.checked&&(t.checked=!0),S.push(e),V&&V.apply(e,[!0])}function m(e){e.setHours(0,0,0,0);var t=E.el.querySelector('[data-date="'+e.toJSON()+'"]');t&&(t.classList.remove("single"),t.checked&&(t.checked=!1)),S=S.filter(function(t){return t.getTime()!=e.getTime()}),V&&V.apply(e,[!1])}function b(){for(var e=0;e<S.length;e)m(S[e])}function y(e){var t=this,n=new Date(t.getAttribute("data-date"));if(t.classList.remove("single"),!te){if(O&&E.el.tables.classList.remove("before"),t.checked){if(x&&S.length>x-1){var a=S.length;for(a;a>x-1;a--)m(S[0]);if(O){var r=E.el.querySelector('[data-date="'+S[0].toJSON()+'"]');!r&&n>S[0]&&E.el.tables.classList.add("before")}}S.push(n),H&&E.hide()}else O&&1==S.length&&S[0].getTime()==n.getTime()?(f(n),t.classList.add("single")):S=S.filter(function(e){return e.getTime()!=n.getTime()});V&&V.apply(n,[t.checked])}}function p(e){e?(O=!0,E.el.tables.classList.add("range")):(O=!1,E.el.tables.classList.remove("range"))}function D(e){w(e);var n=function(){E.el.classList.remove("show"),E.el.calendar.removeEventListener(t(),n)};E.el.calendar.addEventListener(t(),n),E.el.classList.add("show"),Y.appendChild(E.el),P=!0,Z&&(F=Z.getMonth()+1,C=Z.getFullYear()),c()}function L(){E.el.classList.remove("show");var e=function(){E.el.parentNode.removeChild(E.el),P=!1,E.el.classList.remove("hide"),"function"==typeof j&&j.apply(E),E.el.removeEventListener(t(),e)};E.el.addEventListener(t(),e),E.el.classList.add("hide")}function k(){E.el.header.childNodes[0].addEventListener(T,v),E.el.header.childNodes[2].addEventListener(T,h),E.el.header.childNodes[1].childNodes[0].addEventListener(T,function(){E.el.monthPicker.classList.contains("show")?E.el.monthPicker.classList.remove("show"):E.el.monthPicker.classList.add("show"),E.el.yearPicker.classList.remove("show")}),E.el.header.childNodes[1].childNodes[1].addEventListener(T,function(){l(),E.el.yearPicker.classList.contains("show")?E.el.yearPicker.classList.remove("show"):E.el.yearPicker.classList.add("show"),E.el.monthPicker.classList.remove("show")}),E.el.button.addEventListener(T,L),E.el.overlay.addEventListener(T,function(){X&&E.hide()});for(var e=E.el.monthPicker.childNodes,t=0;t<e.length;t++)e[t].addEventListener(T,function(){F=parseInt(this.getAttribute("data-month")),c(),E.el.monthPicker.classList.remove("show")});for(var n=E.el.yearPicker.childNodes,t=0;t<n.length;t++)n[t].addEventListener(T,function(){C+=parseInt(this.getAttribute("data-year")),c(),E.el.yearPicker.classList.remove("show")});var a=0,r=0;E.el.calendar.addEventListener("touchstart",function(e){a=e.changedTouches[0].clientX||e.originalEvent.changedTouches[0].clientX}),E.el.calendar.addEventListener("touchmove",function(e){r=e.changedTouches[0].clientX-a||e.originalEvent.changedTouches[0].clientX-a,e.preventDefault()}),E.el.calendar.addEventListener("touchend",function(e){r>50?v():-50>r&&h(),r=0})}function w(e){for(key in e)key in E&&(E[key]=e[key])}function N(){E.el=document.createElement("div"),E.el.id="Datepickk",E.el.classList.add(a().type),E.el.innerHTML=n,E.el.calendar=E.el.childNodes[1],E.el.titleBox=E.el.childNodes[0],E.el.button=E.el.childNodes[3],E.el.header=E.el.calendar.childNodes[0],E.el.monthPicker=E.el.calendar.childNodes[1],E.el.yearPicker=E.el.calendar.childNodes[2],E.el.tables=E.el.calendar.childNodes[4],E.el.days=E.el.calendar.childNodes[3],E.el.overlay=E.el.childNodes[4],E.el.legend=E.el.childNodes[2],w(r),d(),i(),k(),B&&D(),null!=window.FastClick&&FastClick.attach(E.el)}function A(){return new Date(C,F-1,1)}function M(e){e instanceof Date&&(F=e.getMonth()+1,C=e.getFullYear(),c())}e.numInstances=(e.numInstances||0)+1;var E=this,T="click",S=[],C=(new Date).getFullYear(),F=(new Date).getMonth()+1;languages={no:{monthNames:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],dayNames:["ma","ti","on","to","fr","lø","sø"],weekStart:1},en:{monthNames:["january","february","march","april","may","june","july","august","september","october","november","december"],dayNames:["su","mo","tu","we","th","fr","sa"],weekStart:0},de:{monthNames:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],dayNames:["Mo","Di","Mi","Do","Fr","Sa","So"],weekStart:1}};var O=!1,x=null,Y=document.body,P=!1,q=1,H=!1,I=null,J=null,j=null,z=null,X=!0,B=!1,R="en",V=null,W=[],_=[],G=[],K={},Q=!0,U=!0,Z=null,$=null,ee=null,te=!1;return E.show=D,E.hide=L,E.selectDate=f,E.unselectAll=b,E.unselectDate=m,Object.defineProperties(E,{selectedDates:{get:function(){return S.sort(function(e,t){return e.getTime()-t.getTime()})}},range:{get:function(){return O},set:function(e){p(e),e&&(x=2)}},button:{get:function(){return I},set:function(e){I="string"==typeof e?e:null,E.el.button.innerHTML=I?I:""}},title:{get:function(){return J},set:function(e){J="string"==typeof e?e:null,E.el.titleBox.innerText=J?J:""}},lang:{get:function(){return R},set:function(e){e in languages?(R=e,i(),c()):console.error("Language not found")}},months:{get:function(){return q},set:function(e){"number"==typeof e&&e>0?(q=e,i(),d(),c(),1==q?E.el.classList.remove("multi"):E.el.classList.add("multi")):console.error("months must be a number > 0")}},isOpen:{get:function(){return P}},closeOnSelect:{get:function(){return H},set:function(e){H=e?!0:!1}},disabledDays:{get:function(){return _},set:function(e){if(e instanceof Array)for(var t=0;t<e.length;t++)"number"==typeof e[t]&&_.push(e[t]);else"number"==typeof e?_=[e]:e||(_=[]);c()}},disabledDates:{get:function(){return W.map(function(e){return new Date(e)})},set:function(e){if(e instanceof Array)for(var t=0;t<e.length;t++)e[t]instanceof Date&&W.push(new Date(e[t].getFullYear(),e[t].getMonth(),e[t].getDate()).getTime());else e instanceof Date?W=[new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()]:e||(W=[]);c()}},highlight:{get:function(){return G},set:function(e){if(e instanceof Array){for(var t=0;t<e.length;t++)if(e[t]instanceof Object){var n={};if(n.dates=[],"start"in e[t])n.dates.push({start:new Date(e[t].start.getFullYear(),e[t].start.getMonth(),e[t].start.getDate()),end:"end"in e[t]?new Date(e[t].end.getFullYear(),e[t].end.getMonth(),e[t].end.getDate()):new Date(e[t].start.getFullYear(),e[t].start.getMonth(),e[t].start.getDate())});else if("dates"in e[t]&&e[t].dates instanceof Array)for(var a=0;a<e[t].dates.length;a++)n.dates.push({start:new Date(e[t].dates[a].start.getFullYear(),e[t].dates[a].start.getMonth(),e[t].dates[a].start.getDate()),end:"end"in e[t].dates[a]?new Date(e[t].dates[a].end.getFullYear(),e[t].dates[a].end.getMonth(),e[t].dates[a].end.getDate()):new Date(e[t].dates[a].start.getFullYear(),e[t].dates[a].start.getMonth(),e[t].dates[a].start.getDate())});n.color=e[t].color,n.backgroundColor=e[t].backgroundColor,n.legend="legend"in e[t]?e[t].legend:null,G.push(n)}}else if(e instanceof Object){var n={};if(n.dates=[],"start"in e)n.dates.push({start:new Date(e.start.getFullYear(),e.start.getMonth(),e.start.getDate()),end:"end"in e?new Date(e.end.getFullYear(),e.end.getMonth(),e.end.getDate()):new Date(e.start.getFullYear(),e.start.getMonth(),e.start.getDate())});else if("dates"in e&&e.dates instanceof Array)for(var a=0;a<e.dates.length;a++)n.dates.push({start:new Date(e.dates[a].start.getFullYear(),e.dates[a].start.getMonth(),e.dates[a].start.getDate()),end:"end"in e.dates[a]?new Date(e.dates[a].end.getFullYear(),e.dates[a].end.getMonth(),e.dates[a].end.getDate()):new Date(e.dates[a].start.getFullYear(),e[t].dates[a].start.getMonth(),e[t].dates[a].start.getDate())});n.color=e.color,n.backgroundColor=e.backgroundColor,n.legend="legend"in e?e.legend:null,G.push(n)}else e||(G=[]);c()}},onClose:{set:function(e){j=e}},onSelect:{set:function(e){V=e}},today:{get:function(){return U},set:function(e){U=e?!0:!1}},daynames:{get:function(){return Q},set:function(e){Q=e?!0:!1,i()}},fullscreen:{get:function(){return E.el.classList.contains("fullscreen")},set:function(e){e?E.el.classList.add("fullscreen"):E.el.classList.remove("fullscreen")}},locked:{get:function(){return te},set:function(e){e?(te=!0,E.el.tables.classList.add("locked")):(te=!1,E.el.tables.classList.remove("locked"))}},maxSelections:{get:function(){return x},set:function(e){x="number"!=typeof e||O?O?2:null:e}},onConfirm:{set:function(e){"function"==typeof e?(z=e.bind(E),E.el.button.addEventListener(T,z)):e||(E.el.button.removeEventListener(T,z),z=null)}},closeOnClick:{get:function(){return X},set:function(e){X=e?!0:!1}},tooltips:{get:function(){var e=[];for(key in K)e.push({date:new Date(parseInt(key)),text:K[key]});return e},set:function(e){if(e instanceof Array)for(var t=0;t<e.length;t++)e[t].date&&e[t].text&&e[t].date instanceof Date&&(K[new Date(e[t].date.getFullYear(),e[t].date.getMonth(),e[t].date.getDate()).getTime()]=e[t].text);else e instanceof Object?e.date&&e.text&&e.date instanceof Date&&(K[new Date(e.date.getFullYear(),e.date.getMonth(),e.date.getDate()).getTime()]=e.text):e||(K=[]);c()}},currentDate:{get:A,set:M},setDate:{set:M},startDate:{get:function(){return Z},set:function(e){e instanceof Date?Z=e:(Z=null,C=(new Date).getFullYear(),F=(new Date).getMonth()+1),c()}},minDate:{get:function(){return $},set:function(e){$=e instanceof Date?e:null,c()}},maxDate:{get:function(){return ee},set:function(e){ee=e instanceof Date?e:null,c()}},container:{get:function(){return Y},set:function(e){if(e instanceof String){var t=document.querySelector(e);t?(Y=t,Y!=document.body?E.el.classList.add("wrapped"):E.el.classList.remove("wrapped")):console.error("Container doesn't exist")}else e instanceof HTMLElement?(Y=e,Y!=document.body?E.el.classList.add("wrapped"):E.el.classList.remove("wrapped")):console.error("Invalid type")}},inline:{get:function(){return B},set:function(e){e?(B=!0,E.el.classList.add("inline")):(B=!1,E.el.classList.remove("inline"))}}}),N(),c(),Object.freeze(E)}function t(){var e,t=document.createElement("fakeelement"),n={animation:"animationend",OAnimation:"oanimationend",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd","":"MSAnimationEnd"};for(e in n)if(void 0!==t.style[e])return n[e]}var n='<div class="d-title"></div><div class="d-calendar"><div class="d-header"><i id="d-previous"></i><p><span class="d-month"></span><span class="d-year"></span></p><i id="d-next"></i></div><div class="d-month-picker"><div data-month="1">1</div><div data-month="2">2</div><div data-month="3">3</div><div data-month="4">4</div><div data-month="5">5</div><div data-month="6">6</div><div data-month="7">7</div><div data-month="8">8</div><div data-month="9">9</div><div data-month="10">10</div><div data-month="11">11</div><div data-month="12">12</div></div><div class="d-year-picker"><div data-year="-5"></div><div data-year="-4"></div><div data-year="-3"></div><div data-year="-2"></div><div data-year="-1"></div><div data-year="0"></div><div data-year="1"></div><div data-year="2"></div><div data-year="3"></div><div data-year="4"></div><div data-year="5"></div></div><div class="d-weekdays"></div><div class="d-tables"></div></div><div class="d-legend"></div><button class="d-confirm"></button><div class="d-overlay"></div>';window.Datepickk=e;var a=function(){var e,t,n={type:null,version:null},a=navigator.userAgent,r=a.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return t=a.match(/(iphone|ipad)\s+OS\s+([\d+_]+\d+)/i)||[],/trident/i.test(r[1])?(e=/\brv[ :]+(\d+)/g.exec(a)||[],n.type="MSIE",n.version=parseInt(e[1]),n):"Chrome"===r[1]&&(e=a.match(/\bOPR\/(\d+)/),null!=e)?"Opera "+e[1]:t[1]?n={type:"iOS",version:t[2]}:(r=r[2]?[r[1],r[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=a.match(/version\/(\d+)/i))&&r.splice(1,1,e[1]),n.type=r[0],n.version=parseInt(r[1]),n)}}();
//# sourceMappingURL=datepickk.min.js.map