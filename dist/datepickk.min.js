!function(){function e(r){function d(){if(S.el.days.innerHTML="",U)for(var e=0;I>e&&3>e;e++){var t=document.createElement("div");t.setAttribute("class","d-week");for(var n=0;7>n;n++){var a=document.createElement("div"),r=document.createElement("p");r.innerHTML=x[W].dayNames[n],a.appendChild(r),t.appendChild(a)}S.el.days.appendChild(t)}}function i(){for(var e=S.el.yearPicker.childNodes,t=0;t<e.length;t++){var n=F+parseInt(e[t].getAttribute("data-year"));e[t].innerHTML="'"+n.toString().substring(2,4)}}function l(){function t(e){function t(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}if("LABEL"===e.target.nodeName){var n=e.target.getAttribute("data-legend-id")?e.target.getAttribute("data-legend-id").split(" "):[];if(n.length)for(var a=0;a<n.length;a++){var r=S.el.legend.querySelector('[data-legend-id="'+n[a]+'"]');if("mouseover"==e.type&&r){var d=r.getAttribute("data-color")?t(r.getAttribute("data-color")):null;r.setAttribute("style","background-color:rgba("+d.r+","+d.g+","+d.b+",0.35);")}else r&&r.removeAttribute("style")}}}S.el.tables.innerHTML="";for(var n=0;I>n;n++){var a=document.createElement("div");a.setAttribute("class","d-table");for(var r=0;42>r;r++){var d=document.createElement("input");d.type="checkbox",d.id=e.numInstances+"-"+n+"-d-day-"+r;var i=document.createElement("label");i.setAttribute("for",e.numInstances+"-"+n+"-d-day-"+r);var l=document.createElement("text"),s=document.createElement("span");s.setAttribute("class","d-tooltip"),a.appendChild(d),a.appendChild(i),i.appendChild(l),i.appendChild(s),d.addEventListener(T,function(){ae&&event.preventDefault()}),d.addEventListener("change",y)}S.el.tables.appendChild(a)}S.el.tables.addEventListener("mouseover",t),S.el.tables.addEventListener("mouseout",t)}function s(){function e(e){for(var t=this.getAttribute("data-legend-id"),n=S.el.tables.querySelectorAll('[data-legend-id*="'+t+'"]'),a=0;a<n.length;a++)"mouseover"==e.type?n[a].classList.add("legend-hover"):n[a].classList.remove("legend-hover")}for(var t=new Date(S.el.tables.childNodes[0].childNodes[0].getAttribute("data-date")),n=new Date(S.el.tables.childNodes[I-1].childNodes[82].getAttribute("data-date")),a=K.filter(function(e){for(var a=0;a<e.dates.length;a++)if(e.dates[a].start<n&&e.dates[a].end>t)return!0;return!1}),r=[],d=0;d<a.length;d++)if("legend"in a[d]&&a[d].legend){var i=q.querySelector('.d-legend-item[data-legend="'+a[d].legend+'"][data-color="'+a[d].backgroundColor+'"]');if(null==i){var l=document.createElement("p");l.setAttribute("class","d-legend-item"),l.setAttribute("data-legend",a[d].legend),l.setAttribute("data-legend-id",K.indexOf(a[d])),l.setAttribute("data-color",a[d].backgroundColor);var s=document.createElement("span");s.setAttribute("style","background-color:"+a[d].backgroundColor),l.appendChild(s),S.el.legend.appendChild(l),l.addEventListener("mouseover",e),l.addEventListener("mouseout",e),r.push(l)}else r.push(i)}for(var o=S.el.legend.querySelectorAll(".d-legend-item"),c=0;c<o.length;c++)r.indexOf(o[c])<0&&(o[c].removeEventListener("mouseover",e),o[c].removeEventListener("mouseout",e),S.el.legend.removeChild(o[c]))}function o(e){return e>11?e-=12:0>e&&(e+=12),e}function c(e,t){for(var n=S.el.querySelectorAll(".d-table"),a=x[W].weekStart,r=0;r<n.length;r++){var d=n[r].querySelectorAll(".d-table input"),i=n[r].querySelectorAll(".d-table label"),l=new Date(e,t+r,0).getDate(),c=new Date(e,t+r-1,0).getDate(),u=new Date(e,t+r-1,1).getDay();0>u-a?u=7-a:u-=a;var g=x[W].monthNames[o(t-1+r)];n[r].setAttribute("data-month",g);for(var h=0;h<d.length;h++){d[h].checked=!1,d[h].removeAttribute("disabled"),i[h].removeAttribute("style"),i[h].removeAttribute("data-legend-id"),i[h].className="";var v=null;if(u>h?(i[h].childNodes[0].innerHTML=c-(u-h-1),0==r?(v=new Date(e,t+r-2,c-(u-h-1)),i[h].className="prev"):(v="",i[h].className="d-hidden",d[h].setAttribute("disabled",!0))):l+u>h?(v=new Date(e,t+r-1,h-u+1),i[h].childNodes[0].innerHTML=h-u+1,i[h].className=""):(i[h].childNodes[0].innerHTML=h-l-u+1,r==n.length-1?(v=new Date(e,t+r,h-l-u+1),i[h].className="next"):(v="",i[h].className="d-hidden",d[h].setAttribute("disabled",!0))),v instanceof Date){d[h].setAttribute("data-date",v.toJSON()),-1==_.indexOf(v.getTime())&&-1==G.indexOf(v.getDay())||d[h].setAttribute("disabled",!0),(te&&te>v||ne&&v>ne)&&(d[h].setAttribute("disabled",!0),i[h].className="d-hidden"),Z&&v.getTime()==(new Date).setHours(0,0,0,0)?i[h].classList.add("today"):i[h].classList.remove("today"),Q[v.getTime()]?(i[h].childNodes[0].setAttribute("data-tooltip",!0),i[h].childNodes[1].innerHTML=Q[v.getTime()]):(i[h].childNodes[0].removeAttribute("data-tooltip"),i[h].childNodes[1].innerHTML="");var f=K.filter(function(e){for(var t=0;t<e.dates.length;t++)if(v.getTime()>=e.dates[t].start.getTime()&&v.getTime()<=e.dates[t].end.getTime())return!0;return!1});if(f.length>0){var m="",b="";if(f.length>1){var p=Math.round(100/f.length);m="background: linear-gradient(-45deg,";for(var y=0;y<f.length;y++)b+=K.indexOf(f[y]),y!==f.length-1&&(b+=" "),m+=f[y].backgroundColor+" "+p*y+"%",y!=f.length-1&&(m+=",",m+=f[y].backgroundColor+" "+p*(y+1)+"%,");m+=");"}else m=f[0].backgroundColor?"background:"+f[0].backgroundColor+";":"",b+=K.indexOf(f[0]);var L=f[0].color?"color:"+f[0].color+";":"";i[h].setAttribute("style",m+L),i[h].setAttribute("data-legend-id",b)}}}}s()}function u(){if(S.el.tables.childNodes.length>0&&S.el.tables.childNodes[0].childNodes.length>0){h(),(O>12||1>O)&&(O>12?(F+=1,O-=12):(F-=1,O+=12)),ne&&new Date(F,O-1+I-1,1)>=new Date(ne).setDate(1)?(F=ne.getFullYear(),O=ne.getMonth()+1-I+1,S.el.header.childNodes[2].setAttribute("style","visibility:hidden")):S.el.header.childNodes[2].removeAttribute("style"),te&&new Date(F,O-1,1)<=new Date(te).setDate(1)?(F=te.getFullYear(),O=te.getMonth()+1,S.el.header.childNodes[0].setAttribute("style","visibility:hidden")):S.el.header.childNodes[0].removeAttribute("style");for(var e=0;I>e;e++){var t=O-1+e;t>11?t-=12:0>t&&(t+=12),S.el.monthPicker.childNodes[t].classList.add("current")}c(F,O),i();var n=x[W].monthNames[O-1],a="";if(I>1){a+=" - ";var r=O-1+I-1;r>11?r-=12:0>r&&(r+=12),a+=x[W].monthNames[r]}var d=O-1+I-1>11?F.toString().substring(2,4)+"/"+(F+1).toString().substring(2,4):F.toString().substring(2,4);S.el.header.childNodes[1].childNodes[0].innerHTML=n+a,S.el.header.childNodes[1].childNodes[1].innerHTML=d,S.el.yearPicker.querySelector('[data-year="0"]').classList.add("current"),O-1+I-1>11&&S.el.yearPicker.querySelector('[data-year="1"]').classList.add("current"),g()}}function g(){for(var e=0;e<C.length;e++){var t=C[e].toJSON(),n=S.el.querySelector('[data-date="'+t+'"]');n&&(n.checked=!0)}if(S.el.tables.classList.remove("before"),Y&&C.length>1){var a=new Date(F,O-1,1),r=C.sort(function(e,t){return e.getTime()-t.getTime()}),d=S.el.querySelector('[data-date="'+r[0].toJSON()+'"]');!d&&a>=new Date(r[0].getFullYear(),r[0].getMonth(),1)&&a<=new Date(r[1].getFullYear(),r[1].getMonth(),1)&&S.el.tables.classList.add("before")}}function h(){for(var e=S.el.querySelectorAll(".d-table input"),t=0;t<e.length;t++)e[t].checked=!1;var n=S.el.monthPicker.querySelectorAll(".current");if(n.length)for(var a=0;a<n.length;a++)n[a].classList.remove("current");var r=S.el.yearPicker.querySelectorAll(".current");if(r.length)for(var a=0;a<r.length;a++)r[a].classList.remove("current")}function v(){O+=I,u()}function f(){O-=I,u()}function m(e,t){e.setHours(0,0,0,0);var n=S.el.querySelector('[data-date="'+e.toJSON()+'"]');n&&!n.checked&&(n.checked=!0),C.push(e),$&&!t&&$.apply(e,[!0])}function b(e,t){e.setHours(0,0,0,0);var n=S.el.querySelector('[data-date="'+e.toJSON()+'"]');n&&(n.classList.remove("single"),n.checked&&(n.checked=!1)),C=C.filter(function(t){return t.getTime()!=e.getTime()}),$&&!t&&$.apply(e,[!1])}function p(e){for(var t=0;t<C.length;t)b(C[t],e)}function y(e){var t=this,n=new Date(t.getAttribute("data-date"));if(t.classList.remove("single"),!ae){if(Y&&S.el.tables.classList.remove("before"),t.checked){if(P&&C.length>P-1){var a=C.length;for(a;a>P-1;a--)b(C[0])}if(Y&&C.length){var r=S.el.querySelector('[data-date="'+C[0].toJSON()+'"]');!r&&n>C[0]&&S.el.tables.classList.add("before")}C.push(n),J&&S.hide()}else Y&&1==C.length&&C[0].getTime()==n.getTime()?(m(n),t.classList.add("single")):C=C.filter(function(e){return e.getTime()!=n.getTime()});$&&$.apply(n,[t.checked])}}function L(e){e?(Y=!0,S.el.tables.classList.add("range")):(Y=!1,S.el.tables.classList.remove("range"))}function D(e){S.inline||S.container!==document.body||document.body.classList.add("d-noscroll"),w(e);var n=function(){S.el.classList.remove("d-show"),S.el.calendar.removeEventListener(t(),n)};S.el.calendar.addEventListener(t(),n),S.el.classList.add("d-show"),q.appendChild(S.el),H=!0,ee&&(O=ee.getMonth()+1,F=ee.getFullYear()),u()}function k(){document.body.classList.remove("d-noscroll");var e=function(){S.el.parentNode.removeChild(S.el),H=!1,S.el.classList.remove("d-hide"),"function"==typeof X&&X.apply(S),S.el.removeEventListener(t(),e)};S.el.addEventListener(t(),e),S.el.classList.add("d-hide")}function N(){S.el.header.childNodes[0].addEventListener(T,f),S.el.header.childNodes[2].addEventListener(T,v),S.el.header.childNodes[1].childNodes[0].addEventListener(T,function(){S.el.monthPicker.classList.contains("d-show")?S.el.monthPicker.classList.remove("d-show"):S.el.monthPicker.classList.add("d-show"),S.el.yearPicker.classList.remove("d-show")}),S.el.header.childNodes[1].childNodes[1].addEventListener(T,function(){i(),S.el.yearPicker.classList.contains("d-show")?S.el.yearPicker.classList.remove("d-show"):S.el.yearPicker.classList.add("d-show"),S.el.monthPicker.classList.remove("d-show")}),S.el.button.addEventListener(T,k),S.el.overlay.addEventListener(T,function(){R&&S.hide()});for(var e=S.el.monthPicker.childNodes,t=0;t<e.length;t++)e[t].addEventListener(T,function(){O=parseInt(this.getAttribute("data-month")),u(),S.el.monthPicker.classList.remove("d-show")});for(var n=S.el.yearPicker.childNodes,t=0;t<n.length;t++)n[t].addEventListener(T,function(){F+=parseInt(this.getAttribute("data-year")),u(),S.el.yearPicker.classList.remove("d-show")});var a=0,r=0;S.el.calendar.addEventListener("touchstart",function(e){a=e.changedTouches[0].clientX||e.originalEvent.changedTouches[0].clientX}),S.el.calendar.addEventListener("touchmove",function(e){r=e.changedTouches[0].clientX-a||e.originalEvent.changedTouches[0].clientX-a,e.preventDefault()}),S.el.calendar.addEventListener("touchend",function(e){r>50?f():-50>r&&v(),r=0})}function w(e){for(var t in e)t in S&&(S[t]=e[t])}function A(){S.el=document.createElement("div"),S.el.id="Datepickk",S.el.classList.add(a().type),S.el.innerHTML=n,S.el.calendar=S.el.childNodes[1],S.el.titleBox=S.el.childNodes[0],S.el.button=S.el.childNodes[3],S.el.header=S.el.calendar.childNodes[0],S.el.monthPicker=S.el.calendar.childNodes[1],S.el.yearPicker=S.el.calendar.childNodes[2],S.el.tables=S.el.calendar.childNodes[4],S.el.days=S.el.calendar.childNodes[3],S.el.overlay=S.el.childNodes[4],S.el.legend=S.el.childNodes[2],w(r),l(),d(),N(),V&&D(),null!=window.FastClick&&FastClick.attach(S.el)}function M(){return new Date(F,O-1,1)}function E(e){e instanceof Date&&(O=e.getMonth()+1,F=e.getFullYear(),u())}e.numInstances=(e.numInstances||0)+1;var S=this,T="click",C=[],F=(new Date).getFullYear(),O=(new Date).getMonth()+1,x={no:{monthNames:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],dayNames:["ma","ti","on","to","fr","lø","sø"],weekStart:1},en:{monthNames:["january","february","march","april","may","june","july","august","september","october","november","december"],dayNames:["su","mo","tu","we","th","fr","sa"],weekStart:0},de:{monthNames:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],dayNames:["Mo","Di","Mi","Do","Fr","Sa","So"],weekStart:1}},Y=!1,P=null,q=document.body,H=!1,I=1,J=!1,j=null,z=null,X=null,B=null,R=!0,V=!1,W="en",$=null,_=[],G=[],K=[],Q={},U=!0,Z=!0,ee=null,te=null,ne=null,ae=!1;return S.show=D,S.hide=k,S.selectDate=m,S.unselectAll=p,S.unselectDate=b,Object.defineProperties(S,{selectedDates:{get:function(){return C.sort(function(e,t){return e.getTime()-t.getTime()})}},range:{get:function(){return Y},set:function(e){L(e),e&&(P=2)}},button:{get:function(){return j},set:function(e){j="string"==typeof e?e:null,S.el.button.innerHTML=j?j:""}},title:{get:function(){return z},set:function(e){z="string"==typeof e?e:null,S.el.titleBox.innerText=z?z:""}},lang:{get:function(){return W},set:function(e){e in x?(W=e,d(),u()):console.error("Language not found")}},months:{get:function(){return I},set:function(e){"number"==typeof e&&e>0?(I=e,d(),l(),u(),1==I?S.el.classList.remove("multi"):S.el.classList.add("multi")):console.error("months must be a number > 0")}},isOpen:{get:function(){return H}},closeOnSelect:{get:function(){return J},set:function(e){J=!!e}},disabledDays:{get:function(){return G},set:function(e){if(e instanceof Array)for(var t=0;t<e.length;t++)"number"==typeof e[t]&&G.push(e[t]);else"number"==typeof e?G=[e]:e||(G=[]);u()}},disabledDates:{get:function(){return _.map(function(e){return new Date(e)})},set:function(e){if(e instanceof Array)for(var t=0;t<e.length;t++)e[t]instanceof Date&&_.push(new Date(e[t].getFullYear(),e[t].getMonth(),e[t].getDate()).getTime());else e instanceof Date?_=[new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()]:e||(_=[]);u()}},highlight:{get:function(){return K},set:function(e){if(e instanceof Array){for(var t=0;t<e.length;t++)if(e[t]instanceof Object){var n={};if(n.dates=[],"start"in e[t])n.dates.push({start:new Date(e[t].start.getFullYear(),e[t].start.getMonth(),e[t].start.getDate()),end:"end"in e[t]?new Date(e[t].end.getFullYear(),e[t].end.getMonth(),e[t].end.getDate()):new Date(e[t].start.getFullYear(),e[t].start.getMonth(),e[t].start.getDate())});else if("dates"in e[t]&&e[t].dates instanceof Array)for(var a=0;a<e[t].dates.length;a++)n.dates.push({start:new Date(e[t].dates[a].start.getFullYear(),e[t].dates[a].start.getMonth(),e[t].dates[a].start.getDate()),end:"end"in e[t].dates[a]?new Date(e[t].dates[a].end.getFullYear(),e[t].dates[a].end.getMonth(),e[t].dates[a].end.getDate()):new Date(e[t].dates[a].start.getFullYear(),e[t].dates[a].start.getMonth(),e[t].dates[a].start.getDate())});n.color=e[t].color,n.backgroundColor=e[t].backgroundColor,n.legend="legend"in e[t]?e[t].legend:null,K.push(n)}}else if(e instanceof Object){var n={};if(n.dates=[],"start"in e)n.dates.push({start:new Date(e.start.getFullYear(),e.start.getMonth(),e.start.getDate()),end:"end"in e?new Date(e.end.getFullYear(),e.end.getMonth(),e.end.getDate()):new Date(e.start.getFullYear(),e.start.getMonth(),e.start.getDate())});else if("dates"in e&&e.dates instanceof Array)for(var a=0;a<e.dates.length;a++)n.dates.push({start:new Date(e.dates[a].start.getFullYear(),e.dates[a].start.getMonth(),e.dates[a].start.getDate()),end:"end"in e.dates[a]?new Date(e.dates[a].end.getFullYear(),e.dates[a].end.getMonth(),e.dates[a].end.getDate()):new Date(e.dates[a].start.getFullYear(),e[t].dates[a].start.getMonth(),e[t].dates[a].start.getDate())});n.color=e.color,n.backgroundColor=e.backgroundColor,n.legend="legend"in e?e.legend:null,K.push(n)}else e||(K=[]);u()}},onClose:{set:function(e){X=e}},onSelect:{set:function(e){$=e}},today:{get:function(){return Z},set:function(e){Z=!!e}},daynames:{get:function(){return U},set:function(e){U=!!e,d()}},fullscreen:{get:function(){return S.el.classList.contains("fullscreen")},set:function(e){e?S.el.classList.add("fullscreen"):S.el.classList.remove("fullscreen")}},locked:{get:function(){return ae},set:function(e){e?(ae=!0,S.el.tables.classList.add("locked")):(ae=!1,S.el.tables.classList.remove("locked"))}},maxSelections:{get:function(){return P},set:function(e){P="number"!=typeof e||Y?Y?2:null:e}},onConfirm:{set:function(e){"function"==typeof e?(B=e.bind(S),S.el.button.addEventListener(T,B)):e||(S.el.button.removeEventListener(T,B),B=null)}},closeOnClick:{get:function(){return R},set:function(e){R=!!e}},tooltips:{get:function(){var e=[];for(key in Q)e.push({date:new Date(parseInt(key)),text:Q[key]});return e},set:function(e){if(e instanceof Array)for(var t=0;t<e.length;t++)e[t].date&&e[t].text&&e[t].date instanceof Date&&(Q[new Date(e[t].date.getFullYear(),e[t].date.getMonth(),e[t].date.getDate()).getTime()]=e[t].text);else e instanceof Object?e.date&&e.text&&e.date instanceof Date&&(Q[new Date(e.date.getFullYear(),e.date.getMonth(),e.date.getDate()).getTime()]=e.text):e||(Q=[]);u()}},currentDate:{get:M,set:E},setDate:{set:E},startDate:{get:function(){return ee},set:function(e){e instanceof Date?ee=e:(ee=null,F=(new Date).getFullYear(),O=(new Date).getMonth()+1),u()}},minDate:{get:function(){return te},set:function(e){te=e instanceof Date?e:null,u()}},maxDate:{get:function(){return ne},set:function(e){ne=e instanceof Date?e:null,u()}},container:{get:function(){return q},set:function(e){if(e instanceof String){var t=document.querySelector(e);t?(q=t,q!=document.body?S.el.classList.add("wrapped"):S.el.classList.remove("wrapped")):console.error("Container doesn't exist")}else e instanceof HTMLElement?(q=e,q!=document.body?S.el.classList.add("wrapped"):S.el.classList.remove("wrapped")):console.error("Invalid type")}},inline:{get:function(){return V},set:function(e){e?(V=!0,S.el.classList.add("inline")):(V=!1,S.el.classList.remove("inline"))}}}),A(),u(),Object.freeze(S)}function t(){var e,t=document.createElement("fakeelement"),n={animation:"animationend",OAnimation:"oanimationend",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd","":"MSAnimationEnd"};for(e in n)if(void 0!==t.style[e])return n[e]}var n='<div class="d-title"></div><div class="d-calendar"><div class="d-header"><i id="d-previous"></i><p><span class="d-month"></span><span class="d-year"></span></p><i id="d-next"></i></div><div class="d-month-picker"><div data-month="1">1</div><div data-month="2">2</div><div data-month="3">3</div><div data-month="4">4</div><div data-month="5">5</div><div data-month="6">6</div><div data-month="7">7</div><div data-month="8">8</div><div data-month="9">9</div><div data-month="10">10</div><div data-month="11">11</div><div data-month="12">12</div></div><div class="d-year-picker"><div data-year="-5"></div><div data-year="-4"></div><div data-year="-3"></div><div data-year="-2"></div><div data-year="-1"></div><div data-year="0"></div><div data-year="1"></div><div data-year="2"></div><div data-year="3"></div><div data-year="4"></div><div data-year="5"></div></div><div class="d-weekdays"></div><div class="d-tables"></div></div><div class="d-legend"></div><button class="d-confirm"></button><div class="d-overlay"></div>';window.Datepickk=e;var a=function(){var e,t,n={type:null,version:null},a=navigator.userAgent,r=a.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return t=a.match(/(iphone|ipad)\s+OS\s+([\d+_]+\d+)/i)||[],/trident/i.test(r[1])?(e=/\brv[ :]+(\d+)/g.exec(a)||[],n.type="MSIE",n.version=parseInt(e[1]),n):"Chrome"===r[1]&&(e=a.match(/\bOPR\/(\d+)/),null!=e)?"Opera "+e[1]:t[1]?n={type:"iOS",version:t[2]}:(r=r[2]?[r[1],r[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=a.match(/version\/(\d+)/i))&&r.splice(1,1,e[1]),n.type=r[0],n.version=parseInt(r[1]),n)}}();
//# sourceMappingURL=datepickk.min.js.map
